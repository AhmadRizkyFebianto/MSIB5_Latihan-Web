<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Penilaian</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <nav class="navbar bg-info">
        <div class="container-fluid">
            <span class="navbar-brand mb-0 mt-1 h1">Pendataan Nilai</span>
        </div>
    </nav>
    
    <div class="forum">
        <section class="pt-5" style="background-color: #ffffff;">
            <div class="container h-100">
              <div class="row d-flex justify-content-center align-items-center h-200">
                <div class="col-6 col-md-8 col-lg-6 col-xl-5">
                  <div class="card shadow-lg" style="border-radius: 1rem; background-color: #fdfdfd;">
                        <div class="card-body p-5 text-center">
          
                            <h3 class="mb-5">Penilaian</h3>

                            <div class="form-floating mb-3">
                                <input type="nama" class="form-control" id="nama" placeholder="Masukan nama">
                                <label for="floatingInput">Nama Mahasiswa</label>
                            </div>

                            <div class="form-floating">
                            <input type="course" class="form-control" id="course" placeholder="Mata Kuliah">
                                <label for="floatingInput">Mata Kuliah</label>
                            </div>                      
                            
                            <select class="form-select form-select mt-3" id="gradeSelect">
                                <option selected>Pilih Nilai</option>
                                <option value="A">A</option>
                                <option value="B">B</option>
                                <option value="C">C</option>
                                <option value="D">D</option>
                                <option value="E">E</option>
                            </select>

                            <div class="button-wrap">
                                <span class="errorMsg" id="errorMsg" style="display: none; color: red;">Masukan nama mahasiswa dan mata kuliahnya !</span>
                                <button class="btn fourth btn-primary btn-block mt-5" type="button" onclick="hitung()" onmouseover="ubahWarnaHover()" onmouseout="kembalikanWarna()">Hitung</button>
                                
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-6 col-md-8 col-lg-6 col-xl-5 w-50">
                    <div class="card shadow-lg" style="border-radius: 1rem; background-color: #fdfdfd;">
                        <div class="card-body p-5 text-center">
                            <table id="resultTable" class="table table-striped">
                                <thead>
                                  <tr>
                                    <th scope="col">Nama Mahasiswa</th>
                                    <th scope="col">Mata Kuliah</th>
                                    <th scope="col">Grade</th>
                                    <th scope="col">Nilai rata-rata</th>
                                  </tr>
                                </thead>
                              </table>
                        </div>
                    </div>
                </section>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
    <script>
        function ubahWarnaHover() {
            var button = document.querySelector('.btn-primary');
            button.style.color = 'white'; // Ubah warna teks menjadi putih saat di-hover
        }

        function kembalikanWarna() {
            var button = document.querySelector('.btn-primary');
            button.style.color = '#0d6efd'; // Kembalikan warna teks ke keadaan semula setelah di-hover
        }

        function hitung() {
            var button = document.querySelector('.btn-primary');
            button.style.color = 'white'; 
        const gradeValue = { A: 4, B: 3, C: 2, D: 1, E: 0 };
        const nama = document.getElementById("nama").value;
        const course = document.getElementById("course").value;
        const gradeSelect = document.getElementById("gradeSelect").value;

        const inputNama = document.querySelector("#nama");
        const inputCourse = document.querySelector("#course");

        if (nama === '' || course === '') {
            errorMsg.style.display = 'block'; // Tampilkan pesan error
            return;
        } else {
            errorMsg.style.display = 'none'; // Sembunyikan pesan error jika input valid
        }

        if (gradeSelect in gradeValue) {
          const grade_value = gradeValue[gradeSelect];
          const resultTable = document.getElementById("resultTable");

          const allGradeValue = grade_value;
          const average = allGradeValue / 1;

          const newRow = resultTable.insertRow(-1);
          newRow.insertCell(0).innerHTML = nama;
          newRow.insertCell(1).innerHTML = course;
          newRow.insertCell(2).innerHTML = gradeSelect;
          newRow.insertCell(3).innerHTML = average.toFixed(2);
        }
      }
    </script>
  </body>
</html>